import{i as S,s as y,r as f,y as F,c,a as s,F as _,q as w,u as T,g as b,h as g,o as p,t as k}from"./index-B2bbZP5q.js";const $=S("todo list",()=>{const r=y([]),d=f(Date.now()),l=f(1e3*60*60*24*30);return{data:r,lastUpdate:d,refresh:()=>{const i=Date.now();if(i-d.value<72e5){for(let n=r.length-1;n>=0;n--)i-r[n].timeStamp>l.value&&r.splice(n,1);d.value=Date.now()}},maxTime:l}},{persist:!0});function h(){const r=BigInt(Date.now()),d=r>>16n&0xFFFFFFFFn,l=r&0xFFFFn,m=crypto.getRandomValues(new Uint8Array(2)),v=crypto.getRandomValues(new Uint8Array(8)),i=d.toString(16).padStart(8,"0"),n=l.toString(16).padStart(4,"0"),x="7"+m[0].toString(16).padStart(2,"0").slice(1),a=(m[1]&63|128).toString(16).padStart(2,"0"),o=Array.from(v.slice(0,2)).map(e=>e.toString(16).padStart(2,"0")).join(""),t=Array.from(v.slice(2)).map(e=>e.toString(16).padStart(2,"0")).join("");return`${i}-${n}-${x}${a}-${o}-${t}`}const j={class:"w-full flex flex-col items-center pt-11"},D={class:"w-4/5 min-w-[320px] max-w-[700px] p-2 border rounded-xl"},A={class:"mt-2 w-full"},C=["id"],U={class:"w-full p-2 flex flex-row justify-between"},V={class:"text-2xl font-bold ml-2"},B={class:"text-3xl mr-2 cursor-pointer"},R=["onClick"],I={class:"border-t w-full flex flex-col gap-2 py-3"},J=["id"],L={class:"ml-4 mr-2 text-xl cursor-pointer"},q=["onClick"],E={id:"setting",class:"w-4/5 min-w-[320px] max-w-[700px] p-2 border rounded-xl mt-5"},H={class:"p-4"},M=["onUpdate:modelValue"],z={__name:"App",setup(r){const d=$(),{data:l}=F(d),m=a=>{for(let o=l.value.length-1;o>=0;o--)if(l.value[o].id===a){l.value.splice(o,1);break}},v=(a,o)=>{for(let t=0;t<l.value.length;t++)if(l.value[t].id===a){const e=l.value[t].item;for(let u=e.length-1;u>=0;u--)if(e[u].id===o){e.splice(u,1);break}break}},i=f(""),n=f([""]),x=()=>{const a=i.value.trim();if(!a)return;const o=l.value.find(t=>t.judul===a);if(o){const t=n.value.map(e=>({id:h(),text:e}));o.item.push(...t)}else l.value.push({id:h(),judul:a,timeStamp:Date.now(),item:n.value.map(t=>({id:h(),text:t}))});i.value="",n.value=[""]};return(a,o)=>(p(),c("div",j,[s("div",D,[o[2]||(o[2]=s("div",{class:"font-bold text-2xl m-3 italic"},[s("h3",null,"todo list")],-1)),s("section",A,[(p(!0),c(_,null,w(T(l),t=>(p(),c("div",{key:t.id,class:"my-5 w-full flex flex-col border rounded-md",id:"topic-"+t.id},[s("div",U,[s("div",null,[s("h3",V,k(t.judul),1)]),s("div",B,[s("span",{onClick:e=>m(t.id)}," × ",8,R)])]),s("div",I,[(p(!0),c(_,null,w(t.item,e=>(p(),c("div",{key:e.id,class:"flex",id:"task-"+e.id},[s("div",L,[s("span",{onClick:u=>v(t.id,e.id)}," × ",8,q)]),s("div",null,k(e.text),1)],8,J))),128))])],8,C))),128))])]),s("section",E,[s("div",H,[b(s("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>i.value=t),placeholder:"Judul",class:"border p-2 mb-2 w-full bg-blue-50 text-black"},null,512),[[g,i.value]]),(p(!0),c(_,null,w(n.value,(t,e)=>(p(),c("div",{key:e,class:"flex mb-2"},[b(s("input",{"onUpdate:modelValue":u=>n.value[e]=u,placeholder:"Task...",class:"border p-2 w-full text-black"},null,8,M),[[g,n.value[e]]])]))),128)),s("button",{onClick:o[1]||(o[1]=t=>n.value.push("")),class:"bg-blue-500 text-white px-4 py-1 rounded mr-2"}," + Task "),s("button",{onClick:x,class:"bg-green-500 text-white px-4 py-1 rounded"}," Submit ")])])]))}};export{z as default};
