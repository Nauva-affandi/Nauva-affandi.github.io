import{_ as j}from"./App-BccqXEdT.js";import{f as N,$ as l,s as A}from"./search-select-DH8TTZ7M.js";import{_ as k,e as x,h as e,f as b,a as K,m as p,z as c,u as _,i as r,t as d,w as J,R as B,s as L}from"./index-Cu1JfqiJ.js";function m(s,t=300){s.disabled=!0,setTimeout(()=>{s.disabled=!1},t)}const S={},I={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"};function $(s,t){return b(),x("svg",I,t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"},null,-1)]))}const M=k(S,[["render",$]]),y=(s,t)=>{if(s.length>1){const o=Math.max(1,Math.floor(s.length*(t/100)));s.splice(o,0,s.shift())}},C=s=>{s.length>1&&(s[0].mistakeData={soft:0,hard:0},s.push(s.shift()))},E=s=>{let t=s[0];if(s.length>1){t.mistakeData||(t.mistakeData={soft:0,hard:0}),t.mistakeData.soft++;let o=Math.max(20,50-t.mistakeData.soft*3);if(t.mistakeData.hard>0)for(let i=1;i<t.mistakeData.hard&&t.mistakeData.hard>1;i++)t.mistakeData.hard-=2,o++;y(s,o)}},V=s=>{let t=s[0];if(s.length>1){t.mistakeData||(t.mistakeData={soft:0,hard:0}),t.mistakeData.hard++;let o=Math.max(45,75-t.mistakeData.hard*3);if(t.mistakeData.soft>0)for(let i=1;i<t.mistakeData.soft&&t.mistakeData.soft>1;i++)t.mistakeData.soft-=2,o+=10;y(s,o)}},z={class:"bg-white dark:bg-darkmode w-full h-screen"},R={id:"section_card",class:"flex flex-col"},U={id:"dev",class:"ml-4 mt-5 text-black dark:text-white w-full flex flex-wrap"},Z={class:"mt-8 w-full md:w-1/2"},q={id:"search"},F={class:"mt-2"},G={class:"flex h-12 flex-col justify-between"},H={class:"mt-8 w-full md:w-1/2 flex flex-col"},P={class:"flex flex-col"},Q={class:"mt-4"},W={id:"search",class:"my-16 mx-10"},X={id:"container",class:"relative flex w-full justify-center"},Y={class:"md:w-3/4"},tt={id:"card-content",class:"md:w-sm:w-full text-1xl h-48 rounded-3xl bg-gray-500 p-1 font-bold text-black dark:bg-gray-300"},et={id:"card",class:"perspective-1000 relative h-[184px] w-full duration-700"},st={class:"transform-style-preserve-3d card_animation absolute inset-0 h-full w-full",id:"card-inner"},at={id:"front",class:"backface-hidden absolute flex h-full w-full items-center justify-center rounded-3xl bg-blue-50"},nt={class:"flex flex-col"},ot={class:"flex w-full justify-center"},it={class:"text-3xl"},lt={class:"flex w-full justify-center"},ct={id:"back",class:"backface-hidden rotate-y-180 absolute top-0 flex h-full w-full items-center justify-center rounded-3xl bg-blue-50"},dt={class:"flex w-full justify-center"},rt={class:"text-3xl"},ft={class:"flex w-full justify-center"},ut=K({__name:"App",setup(s){const t=N();p(()=>{const n=l("card");n.addEventListener("click",()=>{n.classList.toggle("rotated")})});const o=c(()=>t.stackType==="KANJI"||t.stackType==="KOTOBA"?t.stack[0].k:"--"),i=c(()=>t.stackType==="KANJI"?"":t.stackType==="KOTOBA"?t.stack[0].h:"--"),g=c(()=>t.stackType==="KANJI"?t.stack[0].h:t.stackType==="KOTOBA"?t.stack[0].i:"--"),v=c(()=>t.stackType==="KANJI"?t.stack[0].i:t.stackType==="KOTOBA"?"":"--"),w=c(()=>t.stackType==="KANJI"||t.stackType==="KOTOBA"?`• jumlah kartu : ${t.card_stack}`:""),T=c(()=>t.stackType==="KANJI"?`Kanji ${t.stackLv}`:t.stackType==="KOTOBA"?`• Kotoba ${t.stackLv}`:"");function O(){const n=Math.min(5+Math.floor(t.stack.length/20),12);t.history.length<n||t.history.pop(),t.history.unshift(JSON.parse(JSON.stringify(t.stack))),l("undo_warn").classList.add("hidden")}function D(){t.history.length>0&&(t.stack=JSON.parse(JSON.stringify(t.history.shift()))),t.history.length===0&&l("undo_warn").classList.remove("hidden")}function f(n,a){m(a),O(),n&&n(t.stack)}return p(()=>{const n=l("next_card"),a=l("lupa_satu"),u=l("lupa_semuanya"),h=l("undo");n.addEventListener("click",()=>{t.Type.includes(t.stackType)&&f(C,n)}),a.addEventListener("click",()=>{t.Type.includes(t.stackType)&&f(E,a)}),u.addEventListener("click",()=>{t.Type.includes(t.stackType)&&f(V,u)}),h.addEventListener("click",()=>{m(h),D()})}),(n,a)=>(b(),x("main",z,[e("section",R,[e("div",U,[e("div",Z,[e("section",q,[e("button",{onClick:a[0]||(a[0]=u=>_(t).searchToggle()),class:"flex"},[r(M),a[1]||(a[1]=e("span",{class:"ml-1"},"Search",-1))])]),e("section",F,[e("div",G,[e("p",null,d(w.value),1),e("p",null,d(T.value),1)])])]),e("div",H,[e("section",P,[e("div",null,[r(_(B),{to:"/app/flashcard/ujian"},{default:J(()=>a[2]||(a[2]=[L("Ujian")])),_:1})])]),e("section",Q,[r(j)])])]),e("section",W,[r(A)]),e("div",X,[e("div",Y,[e("div",tt,[e("div",et,[e("div",st,[e("div",at,[e("div",nt,[e("span",ot,[e("p",it,d(o.value),1)]),e("span",lt,[e("p",null,d(i.value),1)])])]),e("div",ct,[e("div",null,[e("span",dt,[e("p",rt,d(g.value),1)]),e("span",ft,[e("p",null,d(v.value),1)])])])])])]),a[3]||(a[3]=e("div",{id:"control_btn",class:"mt-5 flex flex-wrap justify-start gap-y-3"},[e("button",{id:"next_card",class:"mx-2 rounded-lg border-2 border-white bg-blue-600 px-4 py-2 font-bold text-white hover:bg-blue-700 sm:text-sm"}," Next "),e("button",{id:"lupa_satu",class:"mx-2 rounded-lg border-2 border-white bg-blue-600 px-2 font-bold text-white hover:bg-blue-700"}," lupa kanji / hiragana "),e("button",{id:"lupa_semuanya",class:"mx-2 rounded-lg border-2 border-white bg-blue-600 px-2 py-2 font-bold text-white hover:bg-blue-700"}," lupa kanji & hiragana ")],-1))]),a[4]||(a[4]=e("div",{class:"absolute top-80 flex flex-col"},[e("div",{class:"flex w-full justify-center"},[e("p",{id:"undo_warn",class:"mb-2 hidden animate-shake font-bold text-black dark:text-white"}," undo max! ")]),e("button",{id:"undo",class:"mx-2 rounded-lg border-2 border-white bg-red-500 px-6 py-2 font-bold text-white hover:bg-red-700"}," undo ")],-1))])])]))}}),mt=k(ut,[["__scopeId","data-v-82fc7533"]]);export{mt as default};
