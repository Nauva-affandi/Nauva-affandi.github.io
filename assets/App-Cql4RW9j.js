import{d as S,r as y,b as x,E as T,e as u,h as s,F as _,D as h,u as $,v as g,y as b,f as p,t as k}from"./index-CI7nCQNw.js";const j=S("todo list",()=>{const r=y([]),d=x(Date.now()),n=x(1e3*60*60*24*30);return{data:r,lastUpdate:d,refresh:()=>{const a=Date.now();if(a-d.value<72e5)try{for(let o=r.length-1;o>=0;o--)a-r[o].timeStamp>n.value&&r.splice(o,1);d.value=Date.now()}catch(o){console.log(o)}else{const o=72e5-(a-d.value),v=Math.ceil(o/(1e3*60));console.log(`Bisa refresh dalam ${v} menit lagi`)}},maxTime:n}},{persist:!0});function w(){const r=BigInt(Date.now()),d=r>>16n&0xffffffffn,n=r&0xffffn,m=crypto.getRandomValues(new Uint8Array(2)),f=crypto.getRandomValues(new Uint8Array(8)),a=d.toString(16).padStart(8,"0"),o=n.toString(16).padStart(4,"0"),v="7"+m[0].toString(16).padStart(2,"0").slice(1),i=(m[1]&63|128).toString(16).padStart(2,"0"),l=Array.from(f.slice(0,2)).map(e=>e.toString(16).padStart(2,"0")).join(""),t=Array.from(f.slice(2)).map(e=>e.toString(16).padStart(2,"0")).join("");return`${a}-${o}-${v}${i}-${l}-${t}`}const D={class:"flex w-full flex-col items-center pt-11"},A={class:"w-4/5 min-w-[320px] max-w-[700px] rounded-xl border p-2"},B={class:"mt-2 w-full"},C=["id"],U={class:"flex w-full flex-row justify-between p-2"},V={class:"ml-2 text-2xl font-bold"},L={class:"mr-2 cursor-pointer text-3xl"},R=["onClick"],E={class:"flex w-full flex-col gap-2 border-t py-3"},F=["id"],I={class:"ml-4 mr-2 cursor-pointer text-xl"},J=["onClick"],M={id:"setting",class:"mt-5 w-4/5 min-w-[320px] max-w-[700px] rounded-xl border p-2"},H={class:"p-4"},N=["onUpdate:modelValue"],z={__name:"App",setup(r){const d=j(),{data:n}=T(d),m=i=>{for(let l=n.value.length-1;l>=0;l--)if(n.value[l].id===i){n.value.splice(l,1);break}},f=(i,l)=>{for(let t=0;t<n.value.length;t++)if(n.value[t].id===i){const e=n.value[t].item;for(let c=e.length-1;c>=0;c--)if(e[c].id===l){e.splice(c,1);break}break}},a=x(""),o=x([""]),v=()=>{const i=a.value.trim();if(!i)return;const l=n.value.find(t=>t.judul===i);if(l){const t=o.value.map(e=>({id:w(),text:e}));l.item.push(...t)}else n.value.push({id:w(),judul:i,timeStamp:Date.now(),item:o.value.map(t=>({id:w(),text:t}))});a.value="",o.value=[""]};return(i,l)=>(p(),u("div",D,[s("div",A,[l[2]||(l[2]=s("div",{class:"m-3 text-2xl font-bold italic"},[s("h3",null,"todo list")],-1)),s("section",B,[(p(!0),u(_,null,h($(n),t=>(p(),u("div",{key:t.id,class:"my-5 flex w-full flex-col rounded-md border",id:"topic-"+t.id},[s("div",U,[s("div",null,[s("h3",V,k(t.judul),1)]),s("div",L,[s("span",{onClick:e=>m(t.id)}," × ",8,R)])]),s("div",E,[(p(!0),u(_,null,h(t.item,e=>(p(),u("div",{key:e.id,class:"flex",id:"task-"+e.id},[s("div",I,[s("span",{onClick:c=>f(t.id,e.id)}," × ",8,J)]),s("div",null,k(e.text),1)],8,F))),128))])],8,C))),128))])]),s("section",M,[s("div",H,[g(s("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>a.value=t),placeholder:"Judul",class:"mb-2 w-full border bg-blue-50 p-2 text-black"},null,512),[[b,a.value]]),(p(!0),u(_,null,h(o.value,(t,e)=>(p(),u("div",{key:e,class:"mb-2 flex"},[g(s("input",{"onUpdate:modelValue":c=>o.value[e]=c,placeholder:"Task...",class:"w-full border p-2 text-black"},null,8,N),[[b,o.value[e]]])]))),128)),s("button",{onClick:l[1]||(l[1]=t=>o.value.push("")),class:"mr-2 rounded bg-blue-500 px-4 py-1 text-white"}," + Task "),s("button",{onClick:v,class:"rounded bg-green-500 px-4 py-1 text-white"}," Submit ")])])]))}};export{z as default};
