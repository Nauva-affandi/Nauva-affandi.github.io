import{m as E,r as b,p as f,d as K,c as w,F as M,a as e,j as m,v as k,q as x,o as T,_ as N,g as A,b as B,t as _}from"./index-DbL8T8WA.js";const J=(s,t,n)=>{const o=s[t];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((i,d)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(d.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};function u(s){return document.getElementById(s)}function L(s,t=1e3){const n=s.length;for(let o=n-1;o>0;o--){const i=Math.floor(Math.random()*(o+1));[s[o],s[i]]=[s[i],s[o]]}for(let o=0;o<t;o++){const i=Math.floor(Math.random()*n),d=Math.floor(Math.random()*n);[s[i],s[d]]=[s[d],s[i]]}for(let o=0;o<n;o++){const i=(o^Math.floor(Math.random()*n))%n;[s[o],s[i]]=[s[i],s[o]]}return s}const D=E("card",()=>{const s=b([{k:"--",h:"--",i:"--"}]),t=b([]),n=b("kosong"),o=b("kosong"),i=f(()=>s.value.length===1?"kosong":s.value.length);return{stack:s,history:t,stackType:n,stackLv:o,card_stack:i,Type:["KOTOBA","KANJI","BUNPOU"]}},{persist:!0}),$={class:"w-36"},S={class:"mt-7 w-36"},P={class:"mt-7 w-36"},U={class:"mt-7 w-36"},C={class:"mt-6"},V=K({__name:"search-select",setup(s){const t=D(),n=b(),o=c=>{const a=c.target;n.value=a.value};async function i(c,a){try{return(await J(Object.assign({"../database/BUNPOU/N5.json":()=>x(()=>import("./N5-pRG6OHOv.js"),[]),"../database/KANJI/N4.json":()=>x(()=>import("./N4-Dakw687e.js"),[]),"../database/KANJI/N5.json":()=>x(()=>import("./N5-rKq3hKfC.js"),[]),"../database/KOTOBA/MNN-BAB-26.json":()=>x(()=>import("./MNN-BAB-26-CFVqKLiQ.js"),[])}),`../database/${c}/${a}.json`,4)).default}catch(p){console.error(p.message)}}async function d(){var c;try{const a=u("parent"),p=`category_select_${(c=n.value)==null?void 0:c.toLowerCase()}`,v=u(p);if(!a||!v)throw new Error("select element not found");const y=a.value,h=v.value,r=await i(y,h),l=L(r);t.stack=l,t.stackType=y,t.stackLv=h,t.history.length=0}catch(a){console.error(a)}}return(c,a)=>(T(),w(M,null,[e("div",$,[e("select",{class:"rounded-xl border border-2 border-gray-900 px-3 py-1 focus:outline-none dark:border-white",onChange:o,id:"parent"},a[0]||(a[0]=[e("option",{value:"undefined",disabled:"",selected:""},"pilih opsi",-1),e("option",{value:"KANJI"},"kanji",-1),e("option",{value:"KOTOBA"},"kotoba",-1),e("option",{value:"BUNPOU"},"bunpou",-1)]),32)]),m(e("div",S,a[1]||(a[1]=[e("select",{class:"rounded-xl border border-2 border-gray-900 px-3 py-1 focus:outline-none dark:border-white",id:"category_select_kanji"},[e("option",{disabled:"",selected:""},"pilih opsi"),e("option",{value:"N5"},"N5"),e("option",{value:"N4"},"N4")],-1)]),512),[[k,n.value==="KANJI"]]),m(e("div",P,a[2]||(a[2]=[e("select",{class:"rounded-xl border border-2 border-gray-900 px-3 py-1 focus:outline-none dark:border-white",id:"category_select_bunpou"},[e("option",{disabled:"",selected:""},"pilih bunpou"),e("option",{value:"N5"},"N5")],-1)]),512),[[k,n.value==="BUNPOU"]]),m(e("div",U,a[3]||(a[3]=[e("select",{class:"rounded-xl border border-2 border-gray-900 px-3 py-1 focus:outline-none dark:border-white",id:"category_select_kotoba"},[e("option",{disabled:"",selected:""},"pilih opsi"),e("option",{value:"MNN-BAB-26"},"minna no nihongo bab 26")],-1)]),512),[[k,n.value==="KOTOBA"]]),m(e("div",C,[e("button",{id:"next_card",class:"rounded-lg border-2 border-white bg-blue-600 px-4 py-2 font-bold text-white hover:bg-blue-700 sm:text-sm",onClick:d}," Search ")],512),[[k,["KOTOBA","BUNPOU","KANJI"].includes(n.value)]])],64))}}),R=N(V,[["__scopeId","data-v-05f21bb1"]]);function j(s,t=300){s.disabled=!0,setTimeout(()=>{s.disabled=!1},t)}const q={},F={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"};function H(s,t){return T(),w("svg",F,t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"},null,-1)]))}const z=N(q,[["render",H]]),I=(s,t)=>{if(s.length>1){const n=Math.max(1,Math.floor(s.length*(t/100)));s.splice(n,0,s.shift())}},G=s=>{s.length>1&&(s[0].mistakeData={soft:0,hard:0},s.push(s.shift()))},Z=s=>{let t=s[0];if(s.length>1){t.mistakeData||(t.mistakeData={soft:0,hard:0}),t.mistakeData.soft++;let n=Math.max(20,50-t.mistakeData.soft*3);if(t.mistakeData.hard>0)for(let o=1;o<t.mistakeData.hard&&t.mistakeData.hard>1;o++)t.mistakeData.hard-=2,n++;I(s,n)}},Q=s=>{let t=s[0];if(s.length>1){t.mistakeData||(t.mistakeData={soft:0,hard:0}),t.mistakeData.hard++;let n=Math.max(45,75-t.mistakeData.hard*3);if(t.mistakeData.soft>0)for(let o=1;o<t.mistakeData.soft&&t.mistakeData.soft>1;o++)t.mistakeData.soft-=2,n+=10;I(s,n)}},W={id:"section_card"},X={id:"dev",class:"ml-4 mt-5"},Y={id:"search"},tt={class:"mt-2"},et={class:"flex h-12 flex-col justify-between"},st={id:"container",class:"relative mt-24 flex w-full justify-center"},ot={class:"md:w-[75%]"},nt={id:"card-content",class:"md:w-sm:w-full text-1xl h-48 rounded-3xl bg-gray-500 p-1 font-bold text-black dark:bg-[#f2f2f2]"},at={id:"card",class:"perspective-1000 relative h-[184px] w-full duration-700"},it={class:"transform-style-preserve-3d card_animation absolute inset-0 h-full w-full",id:"card-inner"},lt={id:"front",class:"backface-hidden absolute flex h-full w-full items-center justify-center rounded-3xl bg-blue-50"},rt={class:"flex flex-col"},dt={class:"flex w-full justify-center"},ct={class:"text-3xl"},ut={class:"flex w-full justify-center"},ft={id:"back",class:"backface-hidden rotate-y-180 absolute top-0 flex h-full w-full items-center justify-center rounded-3xl bg-blue-50"},pt={class:"flex w-full justify-center"},ht={class:"text-3xl"},_t={class:"flex w-full justify-center"},bt={id:"search",class:"m-3 mt-44 rounded-2xl border border-white p-3"},mt=K({__name:"App",setup(s){const t=D(),n=b(!1);A(()=>{const r=u("card");r.addEventListener("click",()=>{r.classList.toggle("rotated")})});const o=f(()=>t.stackType==="KANJI"||t.stackType==="KOTOBA"?t.stack[0].k:"--"),i=f(()=>t.stackType==="KANJI"?"":t.stackType==="KOTOBA"?t.stack[0].h:"--"),d=f(()=>t.stackType==="KANJI"?t.stack[0].h:t.stackType==="KOTOBA"?t.stack[0].i:"--"),c=f(()=>t.stackType==="KANJI"?t.stack[0].i:t.stackType==="KOTOBA"?"":"--"),a=f(()=>t.stackType==="KANJI"||t.stackType==="KOTOBA"?`• jumlah kartu : ${t.card_stack}`:""),p=f(()=>t.stackType==="KANJI"?`Kanji ${t.stackLv}`:t.stackType==="KOTOBA"?`• Kotoba ${t.stackLv}`:"");function v(){const r=Math.min(5+Math.floor(t.stack.length/20),12);t.history.length<r||t.history.pop(),t.history.unshift(JSON.parse(JSON.stringify(t.stack))),u("undo_warn").classList.add("hidden")}function y(){t.history.length>0&&(t.stack=JSON.parse(JSON.stringify(t.history.shift()))),t.history.length===0&&u("undo_warn").classList.remove("hidden")}function h(r,l){j(l),v(),r&&r(t.stack)}return A(()=>{const r=u("next_card"),l=u("lupa_satu"),g=u("lupa_semuanya"),O=u("undo");r.addEventListener("click",()=>{t.Type.includes(t.stackType)&&h(G,r)}),l.addEventListener("click",()=>{t.Type.includes(t.stackType)&&h(Z,l)}),g.addEventListener("click",()=>{t.Type.includes(t.stackType)&&h(Q,g)}),O.addEventListener("click",()=>{j(O),y()})}),(r,l)=>(T(),w("main",null,[e("section",W,[e("div",X,[e("section",Y,[e("button",{onClick:l[0]||(l[0]=g=>n.value=!n.value),class:"flex"},[B(z),l[1]||(l[1]=e("span",{class:"ml-1"},"Search",-1))])]),e("section",tt,[e("div",et,[e("p",null,_(a.value),1),e("p",null,_(p.value),1)])])]),e("div",st,[e("div",ot,[e("div",nt,[e("div",at,[e("div",it,[e("div",lt,[e("div",rt,[e("span",dt,[e("p",ct,_(o.value),1)]),e("span",ut,[e("p",null,_(i.value),1)])])]),e("div",ft,[e("div",null,[e("span",pt,[e("p",ht,_(d.value),1)]),e("span",_t,[e("p",null,_(c.value),1)])])])])])]),l[2]||(l[2]=e("div",{id:"control_btn",class:"mt-5 flex flex-wrap justify-start gap-y-3"},[e("button",{id:"next_card",class:"mx-2 rounded-lg border-2 border-white bg-blue-600 px-4 py-2 font-bold text-white hover:bg-blue-700 sm:text-sm"}," Next "),e("button",{id:"lupa_satu",class:"mx-2 rounded-lg border-2 border-white bg-blue-600 px-2 font-bold text-white hover:bg-blue-700"}," lupa kanji / hiragana "),e("button",{id:"lupa_semuanya",class:"mx-2 rounded-lg border-2 border-white bg-blue-600 px-2 py-2 font-bold text-white hover:bg-blue-700"}," lupa kanji & hiragana ")],-1))]),l[3]||(l[3]=e("div",{class:"absolute top-80 flex flex-col"},[e("div",{class:"flex w-full justify-center"},[e("p",{id:"undo_warn",class:"mb-2 hidden animate-shake font-bold text-black dark:text-white"}," undo max! ")]),e("button",{id:"undo",class:"mx-2 rounded-lg border-2 border-white bg-red-500 px-6 py-2 font-bold text-white hover:bg-red-700"}," undo ")],-1))])]),m(e("section",bt,[B(R)],512),[[k,n.value]])]))}}),vt=N(mt,[["__scopeId","data-v-cd64de31"]]);export{vt as default};
